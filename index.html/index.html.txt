<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTG Scanner Pro - AI Card Recognition</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .logo {
            font-size: 48px;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
            background-size: 200% 200%;
            animation: gradientShift 3s ease infinite;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .subtitle {
            font-size: 18px;
            opacity: 0.8;
            margin-bottom: 20px;
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #10b981;
        }
        
        .stat-label {
            font-size: 14px;
            opacity: 0.7;
        }
        
        .nav-tabs {
            display: flex;
            gap: 10px;
            background: rgba(0,0,0,0.2);
            padding: 5px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px 20px;
            background: transparent;
            border: none;
            color: rgba(255,255,255,0.6);
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .nav-tab.active {
            background: linear-gradient(45deg, #3b82f6, #8b5cf6);
            color: white;
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
            transform: translateY(-2px);
        }
        
        .nav-tab:hover:not(.active) {
            background: rgba(255,255,255,0.1);
            color: white;
        }
        
        .content-panel {
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid rgba(255,255,255,0.1);
            min-height: 500px;
        }
        
        .panel-title {
            font-size: 28px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .scanner-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }
        
        .camera-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .camera-area {
            background: #000;
            border-radius: 15px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px dashed #666;
            position: relative;
            overflow: hidden;
        }
        
        .camera-placeholder {
            text-align: center;
            color: #888;
        }
        
        .camera-icon {
            font-size: 64px;
            margin-bottom: 15px;
            opacity: 0.5;
        }
        
        .btn {
            padding: 18px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #3b82f6, #1d4ed8);
            color: white;
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(59, 130, 246, 0.4);
        }
        
        .btn-purple {
            background: linear-gradient(45deg, #9333ea, #7c3aed);
            color: white;
            box-shadow: 0 4px 20px rgba(147, 51, 234, 0.3);
        }
        
        .btn-purple:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(147, 51, 234, 0.4);
        }
        
        .btn-green {
            background: linear-gradient(45deg, #10b981, #059669);
            color: white;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
        }
        
        .btn-green:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(16, 185, 129, 0.4);
        }
        
        .recognition-area {
            background: rgba(31, 41, 55, 0.5);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            border: 2px dashed rgba(75, 85, 99, 0.5);
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .ai-icon {
            font-size: 72px;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        
        .search-input {
            width: 100%;
            padding: 20px 25px 20px 60px;
            background: rgba(55, 65, 81, 0.8);
            border: 2px solid rgba(75, 85, 99, 0.5);
            border-radius: 15px;
            color: white;
            font-size: 18px;
            outline: none;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .search-input:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
        }
        
        .search-container {
            position: relative;
            margin-bottom: 30px;
        }
        
        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 24px;
            color: #9ca3af;
            z-index: 1;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: rgba(255,255,255,0.6);
        }
        
        .empty-icon {
            font-size: 80px;
            margin-bottom: 20px;
            opacity: 0.3;
        }
        
        .success-banner {
            background: linear-gradient(45deg, #10b981, #059669);
            padding: 20px;
            border-radius: 15px;
            margin-top: 30px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(16, 185, 129, 0.3);
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        @media (max-width: 768px) {
            .scanner-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .stats {
                gap: 20px;
            }
            
            .logo {
                font-size: 36px;
            }
            
            .nav-tab {
                padding: 12px 16px;
                font-size: 14px;
            }
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo floating">üî• MTG Scanner Pro üî•</div>
            <div class="subtitle">Enhanced AI Recognition System</div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value" id="cardCount">0</div>
                    <div class="stat-label">Cards Scanned</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="collectionValue">$0.00</div>
                    <div class="stat-label">Collection Value</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="scanCount">0/10</div>
                    <div class="stat-label">Daily Scans</div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('scanner')">
                üì∑ AI Scanner
            </button>
            <button class="nav-tab" onclick="showTab('search')">
                üîç Search Cards
            </button>
            <button class="nav-tab" onclick="showTab('collection')">
                üìö My Collection
            </button>
        </div>

        <!-- Scanner Tab -->
        <div id="scanner-tab" class="content-panel">
            <h2 class="panel-title">
                <span class="ai-icon">üß†</span>
                AI-Powered Card Recognition
            </h2>
            
            <div class="scanner-grid">
                <div class="camera-section">
                    <div class="camera-area" id="cameraArea">
                        <div class="camera-placeholder">
                            <div class="camera-icon">üì∑</div>
                            <div>Camera Ready</div>
                            <div style="font-size: 14px; opacity: 0.6; margin-top: 10px;">
                                Click Start Camera to begin
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="startCamera()" id="cameraBtn">
                        üì∑ Start Camera
                    </button>
                    
                    <button class="btn btn-green hidden" onclick="scanCard()" id="scanBtn">
                        ‚ö° AI SCAN CARD
                    </button>
                    
                    <button class="btn btn-purple" onclick="uploadFile()">
                        üì§ Upload Card Image
                    </button>
                    
                    <input type="file" id="fileInput" accept="image/*" style="display: none;" onchange="handleFileUpload(event)">
                </div>
                
                <div class="recognition-area" id="recognitionArea">
                    <div class="ai-icon pulse-animation">ü§ñ</div>
                    <h3 style="margin-bottom: 15px;">AI Ready for Recognition</h3>
                    <p style="opacity: 0.7;">Scan or upload a Magic card to get started!</p>
                    <p style="font-size: 14px; opacity: 0.5; margin-top: 15px;">
                        Advanced OCR + Claude Vision AI
                    </p>
                </div>
            </div>
        </div>

        <!-- Search Tab -->
        <div id="search-tab" class="content-panel hidden">
            <h2 class="panel-title">
                üîç Card Database Search
            </h2>
            
            <div class="search-container">
                <div class="search-icon">üîç</div>
                <input type="text" class="search-input" placeholder="Search cards by name, type, or text..." 
                       onkeyup="searchCards(this.value)">
            </div>
            
            <div id="searchResults" class="empty-state">
                <div class="empty-icon">üîç</div>
                <h3>Search MTG Cards</h3>
                <p>Try searching for "Lightning Bolt" or "Planeswalker"</p>
            </div>
        </div>

        <!-- Collection Tab -->
        <div id="collection-tab" class="content-panel hidden">
            <h2 class="panel-title">
                üìö My Collection
            </h2>
            
            <div id="collectionContent" class="empty-state">
                <div class="empty-icon">üìö</div>
                <h3>Your collection is empty</h3>
                <p>Start scanning cards to build your collection!</p>
                <div style="margin-top: 20px; padding: 15px; background: rgba(234, 179, 8, 0.2); border-radius: 10px; border: 1px solid #eab308;">
                    <p style="color: #eab308; margin: 0;">
                        üí° Free users get 100 cards and 10 scans per day
                    </p>
                </div>
            </div>
        </div>

        <!-- Success Banner -->
        <div class="success-banner">
            <h3 style="margin: 0 0 10px 0;">‚úÖ MTG Scanner Pro is LIVE!</h3>
            <p style="margin: 0;">Our legendary collaboration is ready to crush Delver Lens! üöÄ</p>
        </div>
    </div>

    <script>
        let activeTab = 'scanner';
        let isScanning = false;
        let cardCount = 0;
        let collectionValue = 0;
        let scanCount = 0;
        
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('[id$="-tab"]').forEach(tab => {
                tab.classList.add('hidden');
            });
            
            // Remove active class from all nav tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.remove('hidden');
            
            // Add active class to clicked nav tab
            event.target.classList.add('active');
            
            activeTab = tabName;
        }
        
        function startCamera() {
            const cameraArea = document.getElementById('cameraArea');
            const cameraBtn = document.getElementById('cameraBtn');
            const scanBtn = document.getElementById('scanBtn');
            
            if (!isScanning) {
                cameraArea.innerHTML = `
                    <div style="width: 100%; height: 100%; background: linear-gradient(45deg, #1f2937, #374151); display: flex; align-items: center; justify-content: center; position: relative;">
                        <div style="position: absolute; inset: 0; background: repeating-linear-gradient(90deg, transparent, transparent 98px, rgba(255,255,255,0.03) 100px); animation: scan 2s linear infinite;"></div>
                        <div style="text-align: center; z-index: 1;">
                            <div style="font-size: 48px; margin-bottom: 10px; animation: pulse 1s infinite;">üìπ</div>
                            <div style="color: #10b981;">Camera Active</div>
                            <div style="font-size: 12px; opacity: 0.6; margin-top: 5px;">Point at a Magic card</div>
                        </div>
                    </div>
                `;
                
                cameraBtn.textContent = 'üõë Stop Camera';
                scanBtn.classList.remove('hidden');
                isScanning = true;
                
                // Add scan animation
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes scan {
                        0% { transform: translateX(-100%); }
                        100% { transform: translateX(100%); }
                    }
                `;
                document.head.appendChild(style);
            } else {
                cameraArea.innerHTML = `
                    <div class="camera-placeholder">
                        <div class="camera-icon">üì∑</div>
                        <div>Camera Ready</div>
                        <div style="font-size: 14px; opacity: 0.6; margin-top: 10px;">
                            Click Start Camera to begin
                        </div>
                    </div>
                `;
                
                cameraBtn.textContent = 'üì∑ Start Camera';
                scanBtn.classList.add('hidden');
                isScanning = false;
            }
        }
        
        function scanCard() {
            if (scanCount >= 10) {
                showUpgradeModal();
                return;
            }
            
            const recognitionArea = document.getElementById('recognitionArea');
            
            // Show scanning animation
            recognitionArea.innerHTML = `
                <div style="font-size: 72px; margin-bottom: 20px; animation: spin 1s linear infinite;">üß†</div>
                <h3 style="margin-bottom: 15px; color: #3b82f6;">AI Analyzing Card...</h3>
                <p style="opacity: 0.7;">Enhanced OCR + Claude Vision processing</p>
            `;
            
            // Add spin animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `;
            document.head.appendChild(style);
            
            // Simulate recognition after 3 seconds
            setTimeout(() => {
                const mockCards = [
                    { name: 'Lightning Bolt', price: 0.50, type: 'Instant', rarity: 'Common' },
                    { name: 'Black Lotus', price: 15000, type: 'Artifact', rarity: 'Rare' },
                    { name: 'Jace, the Mind Sculptor', price: 80, type: 'Planeswalker', rarity: 'Mythic' },
                    { name: 'Serra Angel', price: 2.50, type: 'Creature', rarity: 'Uncommon' }
                ];
                
                const card = mockCards[Math.floor(Math.random() * mockCards.length)];
                
                recognitionArea.innerHTML = `
                    <div style="background: linear-gradient(45deg, #059669, #10b981); border-radius: 15px; padding: 25px; text-align: left;">
                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px;">
                            <div>
                                <h3 style="margin: 0 0 8px 0; font-size: 24px;">${card.name}</h3>
                                <p style="margin: 0; opacity: 0.8;">${card.type} ‚Ä¢ ${card.rarity}</p>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 24px; font-weight: bold;">$${card.price.toFixed(2)}</div>
                                <div style="font-size: 12px; opacity: 0.8;">95% confidence</div>
                            </div>
                        </div>
                        <button onclick="addToCollection('${card.name}', ${card.price})" 
                                style="width: 100%; padding: 12px; background: rgba(255,255,255,0.2); border: none; border-radius: 8px; color: white; cursor: pointer; font-weight: bold;">
                            ‚≠ê Add to Collection
                        </button>
                    </div>
                    <div style="text-align: center; margin-top: 15px; opacity: 0.6; font-size: 12px;">
                        üéØ Enhanced Multi-Layer Recognition
                    </div>
                `;
                
                scanCount++;
                updateStats();
            }, 3000);
        }
        
        function addToCollection(name, price) {
            cardCount++;
            collectionValue += price;
            updateStats();
            
            // Show success animation
            const recognitionArea = document.getElementById('recognitionArea');
            recognitionArea.innerHTML = `
                <div style="font-size: 72px; margin-bottom: 20px; color: #10b981;">‚úÖ</div>
                <h3 style="margin-bottom: 15px; color: #10b981;">Card Added to Collection!</h3>
                <p style="opacity: 0.7;">${name} was successfully added</p>
                <button onclick="resetRecognition()" 
                        style="margin-top: 20px; padding: 12px 24px; background: #3b82f6; border: none; border-radius: 8px; color: white; cursor: pointer;">
                    Scan Another Card
                </button>
            `;
        }
        
        function resetRecognition() {
            document.getElementById('recognitionArea').innerHTML = `
                <div class="ai-icon pulse-animation">ü§ñ</div>
                <h3 style="margin-bottom: 15px;">AI Ready for Recognition</h3>
                <p style="opacity: 0.7;">Scan or upload a Magic card to get started!</p>
                <p style="font-size: 14px; opacity: 0.5; margin-top: 15px;">
                    Advanced OCR + Claude Vision AI
                </p>
            `;
        }
        
        function uploadFile() {
            document.getElementById('fileInput').click();
        }
        
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                scanCard(); // Trigger the same recognition process
            }
        }
        
        function searchCards(query) {
            const resultsDiv = document.getElementById('searchResults');
            
            if (!query.trim()) {
                resultsDiv.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üîç</div>
                        <h3>Search MTG Cards</h3>
                        <p>Try searching for "Lightning Bolt" or "Planeswalker"</p>
                    </div>
                `;
                return;
            }
            
            // Show loading
            resultsDiv.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 48px; animation: spin 1s linear infinite;">üîç</div>
                    <p style="margin-top: 15px;">Searching Scryfall database...</p>
                </div>
            `;
            
            // Simulate search results
            setTimeout(() => {
                resultsDiv.innerHTML = `
                    <div style="background: rgba(59, 130, 246, 0.1); border-radius: 15px; padding: 20px; border: 1px solid #3b82f6;">
                        <h3 style="color: #3b82f6; margin-bottom: 10px;">üîç Search Results for "${query}"</h3>
                        <p>Search functionality will connect to Scryfall API in the full version!</p>
                        <p style="font-size: 14px; opacity: 0.7; margin-top: 10px;">
                            This demo shows the UI - real search coming soon!
                        </p>
                    </div>
                `;
            }, 1500);
        }
        
        function updateStats() {
            document.getElementById('cardCount').textContent = cardCount;
            document.getElementById('collectionValue').textContent = '$' + collectionValue.toFixed(2);
            document.getElementById('scanCount').textContent = scanCount + '/10';
        }
        
        function showUpgradeModal() {
            alert('üöÄ Upgrade to Premium!\n\nYou\'ve reached your daily scan limit.\n\nPremium users get unlimited scans and advanced features!');
        }
        
        // Initialize
        updateStats();
    </script>
</body>
</html>